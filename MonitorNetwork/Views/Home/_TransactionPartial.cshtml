@model IList<MonitorNetwork.Database.transaction>

<div>
    <h3 style="display: inline-block;">Transactions</h3>

    <p style="display: inline-block; float: right; margin: 30px 0 5px 0;">
        @Html.ActionLink("Create New Transaction", "Create", "Transaction")
    </p>
</div>

<table class="table">
    <tr>
        <th>
            Transaction ID
        </th>
        <th>
            Account
        </th>
        <th>
            Merchant Name
        </th>
        <th>
            Credit/Debit
        </th>
        <th>
            SELF
        </th>
        <th>
            Amount
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model.Reverse())
    {
        <tr id="transactionRow@(item.transactionID)">
        @if (item.isEncrypted)
         {
            @Html.Partial("_EncryptTransactionRowPartial", item)
         }
         else
         {
            @Html.Partial("_DetailTransactionRowPartial", item)
         }
        </tr>
    }

</table>

<script>
    function sendTransaction(transactionId, storeId) {
        //$.ajax({
        //    type: "GET",
        //    url: '/Home/EncryptThenSend?id=' + transactionId,
        //    dataType: 'html',
        //    success: function (data) {
        //        $('#transactionRow' + transactionId).html(data);
        //    }
        //});

        addTransaction(transactionId, storeId);
    }
</script>
